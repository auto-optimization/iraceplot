---
title: iraceplot_package
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{iraceplot_package}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

<h3>Introduction</h3>

  The iraceplot is a package created to provide a set of functions that create plots to visualize the data generated by the Irace package. 


<h3>Functions</h3>

  The different functions used in iraceplot will allow the creation of different graphics. The functions are as follows:

```
get_parameters_names
boxplot_test
scatter_test
parallel_coord
iparallel_coord
sampling_frequency
sampling_frequency_iteration
sampling_density
sampling_model_compare
sampling_pie
heatmap
sampling_distance
boxplot_training
scatter_training
configurations_display
```
<h3>Install iraceplot</h3>

For installing iraceplot you need to install the devtools package:
```
install.packages("devtools")
```

Currently, the Irace Studio package can be installed from Gtihub:

```
devtools::install_github("pabloOnate/iraceplot")
```
<h3>How to use</h3>

This is a basic example that shows how to use iraceplot:
```{r setup}
library(iraceplot)
```
you need to have the Rdata file generated by irace (logFile option in the irace package), you must replace the path of the file with yours:
```{r}
load("../data/iraceResults.rda")
```

This function contains the iraceResults variable which contains the irace log. For more details about this variable, please go to the documentation of the irace package.

<h4>Function get_parameters_names</h4>

  The function get_parameters_names returns a vector with the names of the parameters in the irace log

```
get_parameters_names(iraceResults)
```

<h5>Arguments</h5>

```
iraceResults:  irace log variable obtained from the Rdata file generate by irace
```

<div style="text-align: center">
```{r, fig.width= 7}
get_parameters_names(iraceResults)
```
</div>



<h3>Testing</h3>

Breve descripcion de que es testing------------

<h4>Function boxplot_test</h4>

  The boxplot_test function will return a box plot, using the data generated in the test settings coloring the best configuration in each iteration

```
boxplot_test(iraceResults,
              type = "all",
              rpd = TRUE,
              fileName = NULL)
```
<h5>Arguments</h5>

```
iraceResults:   The data generated when loading the Rdata file created by irace

type:           String, either "all", "ibest" or "best". By default it is  "all" which shows all the configurations in testing, "ibest" shows the best configurations of each iteration and "best" shows the configurations of the last iteration

rpd:   Logical (default TRUE) to fit through an equation of minimum percentage distance between the values of each row of all configurations

fileName:       String, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```
If you want to analyze the elite configurations from the last test iteration, use the following code:
  
<div style="text-align: center">
```{r, fig.width= 7}
boxplot_test(iraceResults, type = "best")
```
</div>

When analyzing all elite configurations in testing, use the following code:

<div style="text-align: center">
```{r, fig.width= 7}
boxplot_test(iraceResults)
```
</div>

Finally, to analyze the best elite configuration of each iteration, use the following code:

<div style="text-align: center">
```{r, fig.width= 7}
boxplot_test(iraceResults, type = "ibest")
```
</div>

<h4>Function scatter_test</h4>

The scatter_test function will return a scatter plot comparing two elite configurations in testing

```
scatter_test(iraceResults,
              idVector,
              rpd = TRUE,
              fileName = TRUE)
```
<h5>Arguments</h5>

```
iraceResults:   The data generated when loading the Rdata file created by irace

idVector:       String vector, you need to put the elite settings you want to compare, only 2 values are allowed (example: idVector = c("92","119"))

rpd:   logical(default TRUE) to fit through an equation of minimum percentage distance between the values of each row of all configurations

fileName:       string, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```
To compare two elite setups in testing, use the following code:

<div style="text-align: center">
```{r, fig.width= 7}
scatter_test(iraceResults, idVector = c("92","119"))
```
</div>

<h3>Parameter Analysis</h3>

Escribir una descripcion ------------------------------

<h4>Function parallel_coord</h4>

The parallel_coord function will return a parallel cordinates plot allowing the analysis of the set of parameters

```
parallel_coord(iraceResults,
               idConfiguration = NULL,
               param_names = NULL,
               iterations = NULL,
               pdfAllParameters = FALSE,
               fileName = NULL)
```
<h5>Arguments</h5>

```
iraceResults:       The data generated when loading the Rdata file created by irace

idConfiguration:    Numeric vector, you need to put the configurations you want to analyze (example: idConfiguration = c(20,50,100,300,500,600,700))

param_names:        String vector, you need to put the parameters you want to analyze (example: param_names = c("algorithm","alpha","rho","q0","rasrank"))

iterations:         NUmeric vector, you need to put the iterations you want to analyze (example: iterations = c(1,4,5))

pdfAllParameters:   logical (default FALSE), If I want to create a pdf with all the parameters, I must put TRUE, otherwise it will be created only with the default parameters (15 or less) or those entered.

fileName:           string, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```
If we want to graph all the parameters and configurations, the following code is used:

<div style = "text-align:center">
```{r, fig.width=7}
parallel_coord(iraceResults)
```
</div>

If we want to graph all the parameters and only some configurations, the following code is used:

<div style="text-align: center">
```{r, fig.width=5}
parallel_coord(iraceResults,idConfiguration = c(20,50,100,300,500,600,700))
```
</div>
If we want to filter the parameters that we want to visualize and with all the configurations, the following code is used:

<div style="text-align: center">
```{r, fig.width=5}
parallel_coord(iraceResults, param_names = c("algorithm","alpha","rho","q0","rasrank"))
```
</div>

If we want to filter the iterations that we want to visualize, the following code is used:

<div style="text-align: center">
```{r, fig.width=5}
parallel_coord(iraceResults, iterations = c(1,4,6))
```
</div>

Finally, if we want to filter the parameters, iterations and the settings that we want to analyze, the following code is used:

<div style="text-align: center">
```{r, fig.width=5}
parallel_coord(iraceResults,idConfiguration = c(20,50,100,300,500,600,700), param_names =  c("algorithm","alpha","rho","q0","rasrank"), iterations = c(1,4,6))
```
</div>
<h4>Function iparallel_coord</h4>

The iparallelcoord function will returns a parallel coordinates plot interactive in shinyApp allowing the analysis of the set of parameters allowing the visualization of the data and filter by iteration


```
iparallel_coord(iraceResults, 
          idConfiguration = NULL, 
          param_names = NULL)
```

<h5>Arguments</h5>

```
iraceResults:       The data generated when loading the Rdata file created by irace

idConfiguration:    Numeric vector, you need to put the configurations you want to analyze (example: idConfiguration = c(20,50,100,300,500,600,700))

param_names:        String vector, you need to put the parameters you want to analyze (example: param_names = c("algorithm","alpha","rho","q0","rasrank"))
```

If we want to graph all the parameters and configurations, the following code is used:

<div style = "text-align:center">
```
iparallel_coord(iraceResults)
```
</div>

If we want to graph all the parameters and only some configurations, the following code is used:

<div style="text-align: center">
```
iparallel_coord(iraceResults,idConfiguration = c(20,50,100,300,500,600,700))

```
</div>
If we want to filter the parameters that we want to visualize and with all the configurations, the following code is used:

<div style="text-align: center">
```
iparallel_coord(iraceResults, param_names = c("algorithm","alpha","rho","q0","rasrank"))
```
</div>
Finally, if we want to filter the parameters and the settings that we want to analyze, the following code is used:

<div style="text-align: center">
```
iparallel_coord(iraceResults,idConfiguration = c(20,50,100,300,500,600,700), param_names =  c("algorithm","alpha","rho","q0","rasrank"))
```
</div>
<h4>Function sampling_frequency</h4>

The sampling_frequency function will return a frequency and density plot, for categorical parameters (string) one of frequency is created, in case of numerical parameters it will show a histogram and its density

```
sampling_frequency(iraceResults, 
                param_names = NULL,
                n = NULL,
                fileName = NULL)
```

<h5>Arguments</h5>

```
iraceResults:   The data generated when loading the Rdata file created by irace

param_names:    String vector, A set of parameters to be plotted (example: param_names = c("algorithm","alpha","rho","q0","rasrank"))

n:              Numeric, It will allow going through the various parameters of 9 in 9 graphs (example: if we place an n = 1, it will show us the parameters from 1 to 9, in case an n = 2 it will show the parameters from 10 to 18 and so on)

fileName:       String, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```
If we want to visualize all the parameters, the following code is used:

<div style="text-align: center">
```{r, fig.height= 7, fig.width=7}
sampling_frequency(iraceResults)
```
</div>

If you want to display the parameters from 10 to 18 (if it reaches parameter 18), enter an n = 2

<div style="text-align: center">
```{r, fig.height= 7, fig.width=7}
sampling_frequency(iraceResults, n = 2)
```
</div>

If we only want to visualize some parameters, we must place specifically those, as shown in the code below:

<div style="text-align: center">
```{r, fig.height= 7, fig.width=7}
sampling_frequency(iraceResults,param_names = c("algorithm","alpha","rho","q0","rasrank"))
```
</div>
<h4>Function sampling_frequency_iteration</h4>

The sampling_frequency_iteration function will return a frequency plot used for categorical data (its values are string, show a bar plot) or numeric data (show a histogram and density plot) by each iteration

```
sampling_frequency_iteration(iraceResults,
                               parameter,
                               fileName = NULL)
```

<h5>Arguments</h5>

```
iraceResults:   The data generated when loading the Rdata file created by irace

parameter:      String, value of the parameter to be analyzed (example: parameter = "alpha") 

fileName:       String, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```
If we place a categorical parameter it will be shown in the following way, using the following code:

<div style="text-align: center">
```{r, fig.width= 7,fig.height= 7}
sampling_frequency_iteration(iraceResults,parameter = "algorithm")
```
</div>

If we place a numeric parameter it will be shown in the following way, using the following code:

<div style="text-align: center">
```{r, fig.width= 7,fig.height= 7}
sampling_frequency_iteration(iraceResults,parameter = "alpha")
```
</div>

<h4>Function sampling_density</h4>

The sampling_density function will return a density plot for parameters numeric data in case of placing a categorical parameter, it will show a bar plot

```
sampling_density(iraceResults,
                             parameter,
                             fileName = NULL)
```

<h5>Arguments</h5>

```
iraceResults:   The data generated when loading the Rdata file created by irace

parameter:      String, value of the parameter to be analyzed (example: parameter = "alpha")

fileName:       String, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```

The following code is used:

<div style="text-align: center">
```{r, fig.width= 7,fig.height= 7}
sampling_density(iraceResults,parameter = "alpha")
```
</div>

<h4>Function sampling_model_compare</h4>

The sampling_model_compare function will return two plots, one of frequency and one of density of the numerical parameter, in case of being a categorical parameter it will only show one of frequency

```
sampling_model_compare(iraceResults,
                             parameter,
                             fileName = NULL)
```

<h5>Arguments</h5>

```
iraceResults:   The data generated when loading the Rdata file created by irace

parameter:      String, value of the parameter to be analyzed (example: parameter = "alpha")

fileName:       string, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```
The following code is used:

<div style="text-align: center">
```{r, fig.width= 7,fig.height= 7}
sampling_model_compare(iraceResults, parameter = "alpha")
```
</div>

<h4>Function sampling_pie</h4>

The sampling_pie function will return a sunburst plot of the categorical parameters

```
sampling_pie(iraceResults, 
          dependency = FALSE,
          parameters = NULL,
          fileName = NULL)
```
<h5>Arguments</h5>

```
iraceResults:   The data generated when loading the Rdata file created by irace

dependency:     Logical (default FALSE) that allows to verify if the parameters are dependent on others, modifying the visualization of the plot

parameters:     String vector, a set of categorical type parameters (example: parameters = c("algorithm","dlb"))

fileName:       string, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```
If we want to visualize the categorical parameters and their distribution in reference to their values, the following code is used:

<div style="text-align: center">
```{r, fig.width= 7}
sampling_pie(iraceResults)
```
</div>

If you want to filter the parameters you want to display, use the following code

<div style="text-align: center">
```{r, fig.width= 7}
sampling_pie(iraceResults, parameters = c("algorithm","dlb"))
```
</div>

<!-- If we want to see how the categorical parameters are distributed and if there is a dependency between them, the following code is used: -->

<!-- <div style="text-align: center"> -->
<!-- ```{r, fig.width= 7} -->
<!-- sampling_pie(iraceResults, dependency = TRUE) -->
<!-- ``` -->
<!-- </div> -->

<h4>Function sampling_distance</h4>

The sampling_distance function Shows the mean of the difference between the configurations that were run for each iteration

```
sampling_distance(iraceResults,
                    type = "both",
                    t = 0.05,
                    fileName = NULL)
```
<h5>Arguments</h5>

```
iraceResults:   The data generated when loading the Rdata file created by irace

type:           String, either "line","boxplot" or "both". by default it is "both" will show both graphics ,"line" which will show a plot of points and lines, "boxplot" will show a box plot

t:              Numeric, It is a percentage factor that will determine the range of difference between settings (example: t = 0.05 is equivalent to 5%)

fileName:       String, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```
If you want to show the graph of lines and points, with a difference margin of 5% between parameters, use the following code:

<div style="text-align: center">
```
sampling_distance(iraceResults)
```
</div>

If you want to show the box plot, with a difference margin of 20% between parameters, use the following code:

<div style="text-align: center">
```
sampling_distance(iraceResults, type = "boxplot", t=0.2)
```
</div>

<h3>Training</h3>

Descripcion de que es el training ------------------

<h4>Function heatmap</h4>

The heatmap function will return a heat map plot of all experimental data configurations

```
heatmap(iraceResults, 
         fileName = NULL)
```

<h5>Arguments</h5>

```
iraceResults:   The data generated when loading the Rdata file created by irace

fileName:       string, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```

to execute the function the following code is used:

<div style="text-align: center">
```{r, fig.width= 7}
heatmap(iraceResults)
```
</div>

<h4>Function boxplot_training</h4>

The boxplot_training function will return a box plot of the elite confirations according to the iteration you want

```
boxplot_training(iraceResults, 
    numberIteration = NULL,
    idConfigurations = NULL,
    rpd = TRUE ,
    fileName = NULL)
```
<h5>Arguments</h5>

```
iraceResults:       The data generated when loading the Rdata file created by irace

numberIteration:    Numeric, It is the number referring to the iteration that you want to graph, the range of these varies according to the Rdata used (example: numberIteration = 5)

idConfigurations:   Numeric vector, you need to put the configurations you want to analyze (example: idConfigurations = c(20,50,100,300,500,600,700))

rpd:                Logical (default TRUE) to fit through an equation of minimum percentage distance between the values of each row of all configurations

fileName:           String, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```

If you want to view the graph of the last iteration, use the following code:

<div style="text-align: center">
```{r, fig.width= 7}
boxplot_training(iraceResults)
```
</div>

If you want to visualize the graph of the fifth iteration, use the following code:

<div style="text-align: center">
```{r, fig.width= 7}
boxplot_training(iraceResults,numberIteration = 5)
```
</div>

If you want some specific settings, do the following:

<div style="text-align: center">
```{r, fig.width= 7}
boxplot_training(iraceResults,idConfigurations = c(20,50,100,300,500,600,700))
```
</div>

<h4>Function scatter_training</h4>

The scatter_training function will return a scatter plot comparing two elite configurations in training

```
scatter_training(iraceResults, 
                 idVector, 
                 rpd = TRUE, 
                 fileName = NULL)
```
<h5>Arguments</h5>

```
iraceResults:   The data generated when loading the Rdata file created by irace

idVector:       Numeric vector, you need to put the elite settings you want to compare, only 2 values are allowed (example: idVector = c(806,809))

rpd:   Logical (default TRUE) to fit through an equation of minimum percentage distance between the values of each row of all configurations

fileName:       string, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```
To compare two elite setups in training, use the following code:

<div style="text-align: center">
```{r, fig.width= 7}
scatter_training(iraceResults, idVector = c(806,809))
```
</div>

<h4>Function configurations_display</h4>

A graph is created with all the settings and instance of the training data

```
configurations_display(iraceResults, 
                       rpd = TRUE, 
                       fileName = NULL)
```
<h5>Arguments</h5>

```
iraceResults:   The data generated when loading the Rdata file created by irace

rpd:   Logical (default TRUE) to fit through an equation of minimum percentage distance between the values of each row of all configurations

fileName:       string, A pdf will be created in the location and with the assigned name (example: "~/patch/example/filename")
```

If we want to observe all the values ​​that the configurations take in their respective instances and iterations, place the following code:

<div style="text-align: center">
```
configurations_display(iraceResults)
```
</div>
